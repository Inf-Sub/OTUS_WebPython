<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>Курс веб-разработки на Питоне: Лекция 22</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=792, user-scalable=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/screen.css">
    <link rel="stylesheet" href="styles/default.css">
    <link rel="stylesheet" href="styles/styles.css">

</head>
<body class="full" data-plugins="notes">
<script src="js/highlight.pack.js"></script>
<script>
    hljs.configure({languages: ['html', 'css', 'js']});
    hljs.initHighlightingOnLoad();
    console.clear = undefined;  // иначе notes работают неправильно.

</script>

<header class="caption">
    <h2>«Python для web&#8209;разработки» – лекция 34</h2>
    <h1>OTUS</h1>
    <p>Михаил Кузнецов</p>
</header>

<section class="slide" id="cover">
    <div>
        <h2>OTUS</h2>
        <h1>«Python для web&#8209;разработки»<br>лекция 36<br>Тестирование в JS</h1>
        <p>Михаил Кузнецов</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что сможем делать после вебинара?</h2>
        <ul>
            <li>Разбираться во подходах к тестированию фронта</li>
            <li>Разрабатывать тесты для React-приложения</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>План на сегодня</h2>
        <ul>
            <li>Jest</li>
            <li>TDD</li>
            <li>BDD</li>
            <li>Enzyme</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Орг.моменты</h2>
        <ul>
            <li>Вроде всё проверяется</li>
            <li>Про тайминг помню.</li>
            <li>В конце отзыв.</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Тесты и тестовые фреймворки</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что мне говорили</h2>
        <ul>
            <li>Тестов должно быть много (они должны быть)</li>
            <li>Должны быть быстрыми</li>
            <li>Проверяйте только нужную часть</li>
            <li>Не залезайте в внутреннее состояние модуля</li>
            <li>Старайтесь делать именно unit-тесты</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что скажу я из личного</h2>
        <ul>
            <li>Тесты отличают ниндзю от не-ниндзи</li>
            <li>За отсутствие тестов нужно ругать</li>
            <li>Это просто правила приличия</li>
            <li>То, что тесты нужны, Вы рано или поздно поймёте</li>
            <li>Этот день будет не самым лучшим днём Вашей жизни</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что скажу я из личного</h2>
        <ul>
            <li>Тесты простые - можно язык начинать учить с тестов</li>
            <li>Очень легко "набивается рука"</li>
            <li>Пьяным программировать нормально нельзя</li>
            <li>А вот с тестами - можно</li>
            <li>А с TDD - совсем в невменяемом состоянии</li>
        </ul>
    </div>
</section>


<section class="slide">
    <div>
        <h2>Тестовые фреймоврки</h2>
        <ul>
            <li>Jest</li>
            <li>Enzyme</li>
            <li>Mocha + Chai</li>
            <li>Protractor</li>
            <li>Karma</li>
            <li>Jasmine</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Тестовые фреймоврки</h2>
        <ul>
            <li>У них очень похожий синтаксис</li>
            <li>Половина из них использует другие, ну или используются совместно</li>
            <li>Также как с Яп, достаточно хорошо знать одним</li>
            <li>Тогда изучить новый не составит проблем</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Jest</h2>
        <ul>
            <li>Snapshot-тестирование</li>
            <li>Mock для модулей</li>
            <li>Достаточно простой и богатый</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример функции</h2>
        <pre class="xbig">
            <code>
const sayHello = (name) => `Hello, ${name}!`;

module.exports = sayHello;
            </code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример теста</h2>
        <pre class="xbig">
            <code>
const sayHello = require('./sample');

test('Simple test', () => {
  const result = sayHello('World');
  expect(result).toBe('Hello, World!');
});
            </code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Пример теста (BDD)</h2>
        <pre class="xbig">
            <code>
describe('sayHello', () => {

  it('should say hello for World', () => {
      const result = sayHello('World');
      expect(result).toBe('Hello, World!');
  });

  it('should says hello to null', ....)
});
            </code>
        </pre>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Демо</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>TDD</h2>
        <p>
            <img src="img/l36-tdd.png" style="height: 400px; width: auto"/>
        </p>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Test Driven Development</h2>
        <ul>
            <li>Сначала пишется падающий тест (красный)</li>
            <li>Фиксим падающий тест (зелёный).</li>
            <li>Рефакторим!</li>
            <li>TDD – не самоцель</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Упражнение</h2>
        <ul>
            <li>Написать функцию которая делает операции над трёхсимвольными строчками - '1+2', '2&lt;3'</li>
            <li>Покрыть тестами</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>TDD</h2>
        <ul>
            <li>Код, написанный в бессознательном состоянии, но test-first, лучше кода написанного без тестов</li>
            <li>Это, как минимум, весело.</li>
            <li>Первый вопрос на ревью «Где тесты?»</li>
            <li>Крайне стабильное ПО.</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Демо TDD</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Упражнение</h2>
        <ul>
            <li>Написать функцию считающую n-ый член ряда Фиббоначчи по TDD</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Links</h2>
        <ul>
            <li><a href="https://codepen.io/collection/ArGwdb/">React testing demos</a> </li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Что почитать?</h2>
        <ul>
            <li>TDD</li>
            <li>BDD</li>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вопросы?</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Опрос</h2>
        <ul>
            <li><a href="https://otus.ru/polls/1864/">https://otus.ru/polls/1864/</a>
        </ul>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Вопросы?</h2>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Домашнее задание</h2>
        <p>Тесты</p>
    </div>
</section>

<section class="slide">
    <div>
        <h2>Спасибо!</h2>
        <p>Спасибо!</p>
        <p>Не бойтесь Jest!</p>
    </div>
</section>

<script src="js/shower.min.js"></script>
</body>
</html>

